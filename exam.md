# linux命令行与shell编程大全

## 百问：
* ***notice***:

        本文本内容作者是高中毕业初学者(2025.7.21)内容可能存在不完美
        本文本会对原书内容进行适当扩展
        本文本会减少涉及过于基础的知识
        本文本中有些问题可能无法在原书对应章节找到答案，属于扩展问题，建议自行搜索或者询问AI
        本文本基于bash环境编写,且目前发现许多bash用法在zsh会出错
***
        本文本将在问题开头使用+标记出个人认为较进阶的知识点
        本文本将在问题开头使用=标记出重要知识点
***
####    前置知识点补充：
此书缺少一些本人认为必要的知识点，缺少这些知识会导致在实操过程中遇见许多问题

        1.变量扩展(重要，需要深度理解); 来自"linux the command line"一书
        2.子进程和子shell的区别以及其对环境的继承性，两者各由哪些种类命令引发(有些书籍会把二者混为一谈。建议搜索详细文章，或者询问AI)
### 章节
#### 第二章：走进shell
* 什么是控制台终端？
* 怎么进入控制台终端？
* 各发行版中，进入控制台终端后怎么回到图形界面？
* 什么是linux控制台？
* 什么是图形化终端？
* 什么是终端仿真器？
* 什么是虚拟控制台终端？
* tty是什么？全拼是什么？
* 怎么查看自己登陆的是哪个tty?(多种方法)
* 本章节个性化终端的指令是什么？
* 图形化终端的各个快捷键：

        +查看自己当前终端仿真器的名称？                          
        新建标签页？
        切换标签页？
        退出标签页？
        从当前终端窗口新建终端窗口？
        关闭当前终端窗口？
        复制粘贴？
        增大或减小窗口或字号？
        +恢复默认字号？
        打开find窗口？
        清除终端文本？
        +重置终端？(与clear有什么不同？)
        终端仿真器上下滚动查看历史输出？
        终端仿真器上下翻页查看历史输出？
* =shell提示符组成？(bash)
#### 第三章：bash shell基础命令
> 本章介绍了基础命令
* man命令

        man启动的分页程序通常是什么？
        翻页按键是什么？
        上下滚动按键？
        逐行向下阅读按键？
        =如果忘记命令，怎么通过关键词查找命令(前提：有man_page)？
        +man手册页通常有查询内容在手册中的节号。怎么查看节号？节号有什么意义？
        man手册页怎么直接查看相关节号所包含介绍？
* linux路径格式与windows路径格式的区别？
* linux路径分割符号与windows路径分割符号的区别？
* =***linux虚拟目录结构***

        分别回想以下目录所涉及内容:
        /       /bin    /etc    /home   /dev    /boot
        /lib    /media  /mnt    /usr    /tmp    /var
        /sys    /root   /proc   /run    /sbin   /srv
        /libname                  
* 什么是文件系统层级结构(FHS)?
* 相对路径和绝对路径？
* 目录内部用于表示相对路径的两个特殊目录是什么？
* +目录中的文件改动和访问所涉及的权限由目录掌控吗？
* 列出文件命令及常用选项？

        如何递归列出目录内容？
        如果没有彩色文件显示，怎么区别文件类型(两种方法)？
* 当你要查看文件信息(大小，权限，日期等)该怎么办？
* 查看文件inode?
* ls -l第一行total所指内容是什么？
* 怎么一次创建多个文件？
* 元字符通配符是什么？
* 元字符通配符用法

        *和?用法
        []用法
* 除了ls命令，都有哪些命令使用通配符？
* 如何复制文件？
* 如何给文件改名？
* +改动文件名之后文件会出现什么变化(至少说出2处)?
* 复制文件之后文件会出现什么变化？
* =cp命令有何危险性？如何避免危险？
* 如何递归复制？
* cp如何快速选中一些名称相似的文件？
* 符号链接与硬连接

        区别是什么？
        各自兼容性如何？
        什么文件系统不支持链接？
        +什么文件系统只支持软链接？
        =+如何深入理解硬连接？
        如何区分链接与文件？
        硬链接的inode特征？
* file与type的区分？
* more和less哪个先进？
* tail默认显示多少行？
* =tail如何充当实时监控？
* head命令怎么用？
#### 第四章：更多bash shell命令
> 本章介绍了系统管理和磁盘管理，很重要。
* ps命令

        常见选项: -e --forest l
        STAT列的各个符号表示的意义？
        RSS是什么？
        VSZ是什么？
* +Unix风格，BSD风格，GNU风格的区别？
* top命令显示列

        PID USER PR NI VIRT RES SHR
        s   %CPU %MEM TIME+ COMMAND
        分别代表什么意思？全拼是什么？
        如何修改轮询间隔？如何修改排序？
* =kill怎么发送指定信号？
* pkill通配符怎么搭配？
* mount -o怎么用？
* =df如何过滤文件系统？
* +df把文件名作为参数会发生什么？
* df统计深度(从目录一直到每个文件吗？)？
* =du统计深度？
* df和du的全拼？其输出如何让人看得懂？
* =如何列出已接入块设备的信息？
* du如何仅统计当前目录中的文件和目录，忽略子文件或目录？
* sort指定数值从大到小排序？
* sort指定段比较大小，怎么指定分割段的字符和排序字段？
* =grep

        怎么反选？
        怎么显示匹配的行的行号和总匹配行数？
        怎么指定多个匹配模式？
        grep基于通配符模式匹配吗？
* gzip怎么一次性压缩多个相似文件名文件？
* 怎么解压缩.gz?怎么查看.gz内容？
* tar

        常用选项是什么？
        .tgz怎么解开？
        怎么一条短命令直接打包+压缩/解压缩+解包？
        tar命令是否会产生关于文件正文的输出/压缩输出？
#### 第五章：理解shell
* 在哪个文件能找到自己登录终端模拟器/linux控制台后的默认shell?
* 哪里能了解到自己都有哪些shell?
* +以上两条内容体现了linux文件结构的什么设计思想？
* =什么是登陆shell?什么是非登陆shell?什么是交互式shell?什么是系统shell（如何一条命令查询该shell名字叫什么）？哪个shell不能自定义，为什么？
* =如何深入理解父子shell和环境传递？
* ps命令：如何清晰列出父子shell进程关系？
* 什么变量表明子shell？
* 进程列表和命令分组的关系？哪一个一定会引发子shell?
* =+后台模式,coproc,jobs,fg,bg与子shell,子进程的关联？
* 子shell与子进程的关系？
* coproc为命令分组命名的命令扩展语法为？
* =外部命令，内建命令与子shell,子进程的联系？
* 如何查看一个命令的实现到底是外部还是内建或者两者都有？
* 如何修改history历史命令存储上限？
* history历史存储在哪里？体现了linux什么设计哲学？
* +当终端处于什么状态或执行什么命令时history文件会更新？
* +zsh与bash共用哪些配置文件？
* 回滚历史命令的方式？其中体现了怎样的命令扩展？
* 如何创建与删除别名？
#### 第六章：linux环境变量
* env,printenv,set所显示的范围分别是？
* =bash启动过程中会读取哪些文件来获得环境？
* 什么是全局环境变量,局部环境变量和shell变量？
* 在变量赋值时，什么操作容易错误地引发一个命令输入？如何解决这个问题？这告诉我们bash什么样的工作机制？
* 子shell中对于全局环境变量的操作与其父子shell的关系？
* =+什么样的子进程会自动继承环境？
* 在哪里找到默认设置的环境变量？
* =+常用的一些shell变量有哪些？
* PATH环境变量设置后打开文件的方式有哪些？
* 什么是启动文件？什么是环境文件？
* +什么是可拆卸式认证模块？它会对环境变量造成什么影响？在读取启动文件时它的优先级大概是？
* /etc/profile都有什么作用？它与profile.d的关系是？
* shell会读取所有这些启动文件吗？为什么？
* alias和环境变量如何持久化？
* 数组变量索引如何使用？通配符用法如何？
* =如何删除变量？如何删除数组变量的一个元素？删除元素时会发生什么意外？
#### 第七章：理解linux文件权限
* =passwd里都有什么信息？
* 为什么linux要为程序单独设置用户身份？
* 什么是系统账户？
* =passwd里并没有密码信息，那密码存储在哪里？它们分别位于哪些目录，这体现了linux目录结构的什么设计？
* =passwd和shadow各自字段的含义是什么？
* useradd默认值如何查看(命令方式)？useradd默认值被存储在哪里？
* 如何查看或修改新用户home中的默认目录结构？默认目录结构配置存储在哪？
* useradd和userdel常见选项搭配是什么？
* 当你需要搭建一个试验场地来对各种命令进行测试，你要如何选择选项？
* =usermod命令都可以做什么？
* passwd命令都可以做什么？
* +什么时候用chpasswd而不用passwd？
* chpasswd如何读取username:password对偶表格文件？
* 如何指定用户，为其指定shell？
* 修改用户备注的三种方法有？
* +更改账户有效期的两种方法有？
* 如何查看所有账户信息？如何查看所有组的信息？
* 什么是系统账户组？
* 组密码是什么？怎么设置？设置之后会发生什么？
* =groupadd只能创建组，无法添加账户，怎么办？添加账号时要注意什么选项来避免主组被替换？
* ls -l中每行第一个字符分别代表什么？

        - d l c b p s
* umask对于文件和目录是怎么双标的？
* umask修改后能持久吗？如果不能，这体现了shell环境的什么原理？
* chmod命令的常用选项是什么？如何使用数字方式修改权限？chmod符号方式都有哪些符号？如何使用符号方式修改权限？
* =怎么用符号模式设置SID和SGID？怎么用数字模式设置SUID和SGID以及粘滞位？如何查看SUID和SGID的权限？如何使用数字模式添加SUID,SGID或粘滞位？
* 设置了SUID,SGID后ls -l相应位显示内容的变化(2*2=4种变化)
* 如何修改文件属主？
* 如何修改文件属组(两种方法)？
* 共享文件的最优方法是？该如何设置此方法的权限？
* 如果不想麻烦，但想为某人或某组共享自己的文件，该怎么使用facl？
* 设置文件权限时，如何设置目录权限以确保他人能够访问该文件？
#### 第八章：管理文件系统
> 推荐阅读“linux filesystem"来获取详细知识。
* ext文件系统如何追踪虚拟目录内的文件信息？
* 什么是日志文件系统？什么是日志？写入日志的内容有什么？三种日志方法是什么？
* SATA和SCSI驱动器所管理的块设备的命名中，sda,sdb,sdc分别有什么区别，为什么？
* SSD NVMe驱动器命名格式nvmeNn#中N和#分别代表什么？
* IDE驱动器格式hdx中的x是什么？
* fdisk,gdisk,GNU parted分别怎么用？
* 如果你的系统在块设备分区改动后没有被通知，该怎么更新系统中显示的分区表？
* 各种文件系统的建立该使用哪些工具？如果该工具未安装该怎么办？
* CoW文件系统的全拼是什么？都有哪些文件系统无需fsck？其中哪些文件系统内建了修复机制从而无需fsck？
* fsck能检查挂载中的文件系统吗？
* 什么是LVM,其全拼是什么？
* =创建pv时会格式化数据吗？pvcreate都会做什么？刚规划的分区可以不经过pvcreate处理而直接加入gv吗？为什么？
* 如何展示已有VG？
* 如何创建VG？
* +LV在取值一定空间后，LVM如何为其分配空间段？
* 不同的LV之间可以交叉吗？
* 如何展示已有LV？
* +可以LV套娃操作吗(用lv组成lv)？
* 可以直接删除组成了lv的lv吗？
* 如何删除lv/vg/pv？
* 扩大/缩小lv/vg 同 扩大/缩小 分区的区别？
* 如何扩大/缩小lv/vg？